<template-panel-form Title="添加商家">
  <div class="row addPower">
    <div class="col-md-2 menuLeft">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title>用户({{this.userName}})</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <data-tree [treeList]="treeList" (onUpdateTree)="onUpdateTree($event)"></data-tree>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="col-md-10 menuRight">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-subtitle>
            <span class="float-left">
              <button mat-raised-button color="primary" (click)="funModal.show()">添加权限</button>
              <button mat-raised-button color="accent" (click)="onDelList()">删除</button>
            </span>
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content style="margin-top:24px;">
          <data-table [isSearch]="false">
            <thead class="data-thead" [dataList]="dataList">
              <th class="data-th" name="Business.name" type="object">商家名</th>
              <th class="data-th" name="createAt" type="date">创建日期</th>
            </thead>
            <tbody class="data-tbody" [isShowPagiation]="false" [IsAutomaticList]="false" [pageSize]="100" [dataList]="dataList"></tbody>
          </data-table>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</template-panel-form>

<data-modal #funModal title="功能权限" (onModalSave)="onModalSave(tableBusiness.dataList)">
  <data-table [isSearch]="false">
    <thead class="data-thead" [dataList]="businessList">
      <th class="data-th" name="name" type="text">商家名</th>
      <th class="data-th" name="createAt" type="date">创建日期</th>
    </thead>
    <tbody class="data-tbody" #tableBusiness [isShowPagiation]="false" [IsAutomaticList]="false" [pageSize]="1000" [dataList]="businessList"></tbody>
  </data-table>
</data-modal>
