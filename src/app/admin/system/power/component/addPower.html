<template-panel-form Title="添加权限">
  <div class="row addPower">
    <div class="col-md-2 menuLeft">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title>角色({{this.roleName}})</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <data-tree [treeList]="treeList" (onUpdateTree)="onUpdateTree($event)"></data-tree>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="col-md-10 menuRight">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-subtitle>
            <span class="float-left">
              <button mat-raised-button color="primary" (click)="funModal.show()">添加权限</button>
              <button mat-raised-button color="accent" (click)="onDelList()">删除</button>
            </span>
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content style="margin-top:24px;">
          <data-table [isSearch]="false">
            <thead class="data-thead" [dataList]="dataList">
              <th class="data-th" name="title" type="link">名称</th>
              <th class="data-th" name="list" type="list">功能权限</th>
            </thead>
            <tbody class="data-tbody" #tableRolePower [isShowPagiation]="false" [IsAutomaticList]="false" [pageSize]="100" [dataList]="dataList"></tbody>
          </data-table>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</template-panel-form>

<data-modal #funModal title="功能权限" (onModalSave)="onModalSave(tablePower.dataList)">
  <data-table [isSearch]="false">
    <thead class="data-thead" [dataList]="powerList">
      <th class="data-th" name="title" type="link">名称</th>
      <th class="data-th" name="list" type="list">功能权限</th>
    </thead>
    <tbody class="data-tbody" #tablePower [isShowPagiation]="false" [IsAutomaticList]="false" [pageSize]="1000" [dataList]="powerList"></tbody>
  </data-table>
</data-modal>
